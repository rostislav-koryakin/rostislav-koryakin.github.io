<!DOCTYPE html>
<html>
<head>
    <title>Вибрация</title>
    <!-- Подключаем скрипт Telegram Web App -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <h1>Привет! Нажми на кнопку.</h1>
    <button id="vibrate-btn">Нажми, чтобы вызвать вибрацию. 1</button>

    <script>
        // Убедимся, что код выполняется после загрузки страницы
        document.addEventListener('DOMContentLoaded', function() {
            const tg = window.Telegram.WebApp;
            const vibrateButton = document.getElementById('vibrate-btn');

            // Проверяем, что мы находимся внутри Telegram Mini App
            if (tg && tg.HapticFeedback) {
                vibrateButton.addEventListener('click', function() {
                    // Вызываем тактильный отклик (вибрацию)
                    // Вариант 1: легкое воздействие (impact)
                    tg.HapticFeedback.impactOccurred('medium'); // можно 'light', 'medium', 'heavy', 'rigid', 'soft'
 
                    // Вариант 2: уведомление (notification)
                    // tg.HapticFeedback.notificationOccurred('success'); // можно 'error', 'success', 'warning'
 
                    // Вариант 3: изменение выбора
                    // tg.HapticFeedback.selectionChanged();
 
                    // Показываем нативное уведомление Telegram вместо alert()
                    // Добавим проверку для отладки
                    tg.showAlert("Команда на вибрацию ('medium') отправлена. Объект HapticFeedback существует.");
                });
            } else {
                // Если приложение открыто не в Telegram, сообщим об этом
                vibrateButton.addEventListener('click', function() {
                    alert('Эта функция работает только внутри Telegram Mini App.');
                });
            }
        });
    </script>
</body>
</html>