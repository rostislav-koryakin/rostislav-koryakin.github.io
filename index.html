<!DOCTYPE html>
<html>
<head>
    <title>–í–∏–±—Ä–∞—Ü–∏—è</title>
    <!-- –í–∞–∂–Ω—ã–π —Ç–µ–≥ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å–∫—Ä–∏–ø—Ç Telegram Web App -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã Telegram –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ */
        :root {
            --tg-bg: var(--tg-theme-bg-color, #ffffff);
            --tg-text: var(--tg-theme-text-color, #000000);
            --tg-hint: var(--tg-theme-hint-color, #999999);
            --tg-button: var(--tg-theme-button-color, #3390ec);
            --tg-button-text: var(--tg-theme-button-text-color, #ffffff);
            --tg-secondary-bg: var(--tg-theme-secondary-bg-color, #f3f3f4);
        }

        body {
            margin: 0;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
                Helvetica, Arial, sans-serif;
            background-color: var(--tg-bg);
            color: var(--tg-text);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        h1 {
            font-size: 28px;
            font-weight: 600;
            margin-top: 0;
            margin-bottom: 24px;
        }

        #button-container button {
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 12px;
            background-color: var(--tg-button);
            color: var(--tg-button-text);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: opacity 0.15s ease-out;
        }

        #button-container button:active {
            opacity: 0.8;
        }

        .info-block {
            margin-top: 24px;
            padding: 12px 16px;
            font-size: 14px;
            color: var(--tg-hint);
            background-color: var(--tg-secondary-bg);
            border-radius: 12px;
            line-height: 1.4;
        }
    </style>
</head>
<body>
    <h1>–ü—Ä–∏–≤–µ—Ç! –ù–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É.</h1>
    <div id="button-container" style="display: flex; flex-direction: column; gap: 10px; padding: 10px;">
        <!-- –ö–Ω–æ–ø–∫–∏ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –∑–¥–µ—Å—å —Å –ø–æ–º–æ—â—å—é JS -->
    </div>
    <div id="info-container">
        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π –±–ª–æ–∫ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –∑–¥–µ—Å—å -->
    </div>

    <script>
        // –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            const tg = window.Telegram.WebApp;
            const container = document.getElementById('button-container');
            const infoContainer = document.getElementById('info-container');

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –º—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è –≤–Ω—É—Ç—Ä–∏ Telegram Mini App
            if (tg && tg.HapticFeedback) {
                const createButton = (text, onClick) => {
                    const btn = document.createElement('button');
                    btn.innerText = text;
                    btn.addEventListener('click', onClick);
                    container.appendChild(btn);
                };

                // –ö–Ω–æ–ø–∫–∏ –¥–ª—è impactOccurred
                ['light', 'medium', 'heavy', 'rigid', 'soft'].forEach(type => {
                    createButton(`Impact: ${type}`, () => {
                        tg.HapticFeedback.impactOccurred(type);
                    });
                });

                // –ö–Ω–æ–ø–∫–∏ –¥–ª—è notificationOccurred
                ['success', 'warning', 'error'].forEach(type => {
                    createButton(`Notification: ${type}`, () => {
                        tg.HapticFeedback.notificationOccurred(type);
                    });
                });

                // –ö–Ω–æ–ø–∫–∞ –¥–ª—è selectionChanged
                createButton('Selection Changed', () => {
                    tg.HapticFeedback.selectionChanged();
                });

                // --- –î–û–ë–ê–í–õ–ï–ù–ù–´–ô –ö–û–î –ù–ê–ß–ò–ù–ê–ï–¢–°–Ø –ó–î–ï–°–¨ ---

                // –ö–Ω–æ–ø–∫–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
                createButton('üåç –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é', () => {
                    if (navigator.geolocation) {
                        navigator.geolocation.getCurrentPosition(
                            (position) => {
                                const { latitude, longitude } = position.coords;
                                tg.showAlert(`–í–∞—à–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:\n\n–®–∏—Ä–æ—Ç–∞: ${latitude.toFixed(4)}\n–î–æ–ª–≥–æ—Ç–∞: ${longitude.toFixed(4)}`);
                            },
                            (error) => {
                                let errorMessage = '–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é.';
                                if (error.code === error.PERMISSION_DENIED) {
                                    errorMessage = '–í—ã –∑–∞–ø—Ä–µ—Ç–∏–ª–∏ –¥–æ—Å—Ç—É–ø –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è Telegram –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–∞.';
                                }
                                tg.showAlert(errorMessage);
                            }
                        );
                    } else {
                        tg.showAlert('–í–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é.');
                    }
                });

                // --- –î–û–ë–ê–í–õ–ï–ù–ù–´–ô –ö–û–î –ó–ê–ö–ê–ù–ß–ò–í–ê–ï–¢–°–Ø –ó–î–ï–°–¨ ---

            } else {
                // –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–æ –Ω–µ –≤ Telegram, —Å–æ–æ–±—â–∏–º –æ–± —ç—Ç–æ–º
                container.innerHTML = '<p>–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ Telegram Mini App.</p>';
            }

            // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π –±–ª–æ–∫ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
            const infoDiv = document.createElement('div');
            infoDiv.className = 'info-block';
            infoDiv.innerHTML = '<b>–ù–µ –≤—Å–µ –∫–Ω–æ–ø–∫–∏ –≤–∏–±—Ä–∏—Ä—É—é—Ç?</b><br>–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è Android. –ß—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –≤—Å–µ —Ç–∏–ø—ã –≤–∏–±—Ä–∞—Ü–∏–∏, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:<br>1. –û—Ç–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º —ç–Ω–µ—Ä–≥–æ—Å–±–µ—Ä–µ–∂–µ–Ω–∏—è.<br>2. –í–∫–ª—é—á–∏—Ç—å "–¢–∞–∫—Ç–∏–ª—å–Ω—ã–π –æ—Ç–∫–ª–∏–∫" –∏–ª–∏ "–í–∏–±—Ä–æ–æ—Ç–∫–ª–∏–∫" –≤ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∑–≤—É–∫–∞.';
            infoContainer.appendChild(infoDiv);
        });
    </script>
</body>
</html>